<!DOCTYPE HTML>
<html>
  <head>
    <title>Cookbook - Admin</title>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
      const init = () => {
        let app = new Vue({
          el: '#ingredients',
          data: {
            curRecipe: {
              name: '',
              ingredients: [{
                name: '',
                amount: '',
                unit: '',
                link: ''
              }],
              steps: [{text:''}]
            },
            recipes: []
          }
        });
      }
      
      const getRecipes = () => {
        fetch('/recipes').then(response => {
          return response.json();
        }).then(json => {
          recipes.curRecipe = json;
        });
      }
      
      const setRecipe = () => {
        
      }
      
      window.onload = init;
    </script>
  </head>
  <body>
    <h1>Cookbook Admin Access</h1>
    <div id="recipes">
      
      <div id="recipeEditor">
        <h1>{{curRecipe.title}}</h1>
        <ul id="ingredients">
          <li v-for="ingredient in ingredients" class="ingredient">
            <label for="ingredient-name">Ingredient</label>
            <input type="text" id="ingredient-name" v-model="ingredient.name" required>
            <!--is text to allow for input of fractions-->
            <label for="amount">Amount </label> <input type="text" v-model="ingredient.amount" size="4"> 
            <label for="units">Units</label>
            <select id="units" v-model="ingredient.unit">
              <option value=" "> </option>

              <option value="can">can</option>
              <option value="box">box</option>
              <option value="bag">bag</option>
              <option value="jar">jar</option>

              <option value="bunch">bunch</option>
              <option value="sprig">sprig</option>

              <option value="ml">ml</option>
              <option value="dl">dl</option>
              <option value="liter">liter</option>

              <option value="dash">dash</option>
              <option value="fl oz">fl oz</option>
              <option value="cup">cup</option>

              <option value="oz">oz</option>
              <option value="lb">lb</option>

              <option value="pinch">pinch</option>
              <option value="tsp">tsp</option>
              <option value="tbsp">tbsp</option>

              <option value="mg">mg</option>
              <option value="g">g</option>
              <option value="kg">kg</option>

              <option value="pint">pint</option>
              <option value="quart">quart</option>
              <option value="gallon">gallon</option>

              <option value="mm">mm</option>
              <option value="cm">cm</option>
              <option value="m">m</option>

              <option value="inch">inch</option>
            </select>
            <label for="link">Store Link (optional)</label><input type="url" id="link" v-model="ingredient.link">
            <button type="button" v-on:click="deleteIngredient(ingredient)">Delete Ingredient</button>
          </li>
        </ul>
        <button type="button" v-on:click="addIngredient">Add Ingredient</button>
        <ol id="steps">
          <li v-for="step in steps">
            <textarea width="100px" height="100px" v-model="step.text"></textarea><br>
            <button type="button" v-on:click="deleteStep(step)">Delete Step</button>
            <br><br>
          </li>
        </ol>
        <button type="button" v-on:click="addStep">Add Step</button>
        <br>
        <input type="submit" value="Add Recipe" />
      </div>
      
    </div>
  </body>
</html>
  